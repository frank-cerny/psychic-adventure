2021-09-05 13:02:07.559 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 13:02:07.771 -04:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 13:02:07.794 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 13:02:07.822 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-05 13:02:07.854 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-05 13:02:08.175 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-05 13:02:08.388 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-05 13:02:08.634 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-05 13:02:08.637 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-05 13:02:08.639 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-05 13:02:08.641 -04:00 [INF] Hosting environment: Development
2021-09-05 13:02:08.650 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-05 13:02:21.631 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 158
2021-09-05 13:02:21.905 -04:00 [INF] bike_selling_app Request: DeleteBikeCommand {"bikeId":-1,"$type":"DeleteBikeCommand"}
2021-09-05 13:02:21.967 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 13:02:22.006 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-05 13:02:22.032 -04:00 [ERR] bike_selling_app Request: Unhandled Exception for Request DeleteBikeCommand {"bikeId":-1,"$type":"DeleteBikeCommand"}
bike_selling_app.Application.Common.Exceptions.ValidationException: One or more validation failures have occurred.
   at bike_selling_app.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 31
   at bike_selling_app.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 22
2021-09-05 13:02:22.087 -04:00 [ERR] GraphQL Error. Timestamp: 9/5/2021 5:02:22 PM, Message: One or more validation failures have occurred., Details: bike_selling_app.Application.Common.Exceptions.ValidationException: One or more validation failures have occurred.
   at bike_selling_app.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 31
   at bike_selling_app.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at bike_selling_app.Application.Common.GraphQL.Mutations.RootMutation.<>c__DisplayClass0_0.<<-ctor>b__1>d.MoveNext() in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\GraphQL\Mutations\RootMutation.cs:line 39
--- End of stack trace from previous location ---
   at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 398
2021-09-05 13:02:22.154 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 158 - 400 - application/json 525.1090ms
2021-09-05 13:08:09.037 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 159
2021-09-05 13:08:09.050 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 159 - 200 - application/json 12.9838ms
2021-09-05 13:21:19.778 -04:00 [INF] Application is shutting down...
2021-09-05 13:54:05.329 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 13:54:05.518 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 13:54:05.539 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 13:54:05.562 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-05 13:54:05.590 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-05 13:54:05.870 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-05 13:54:06.047 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-05 13:54:06.293 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-05 13:54:06.295 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-05 13:54:06.298 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-05 13:54:06.299 -04:00 [INF] Hosting environment: Development
2021-09-05 13:54:06.302 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-05 13:54:09.241 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 159
2021-09-05 13:54:09.498 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 159 - 200 - application/json 259.5037ms
2021-09-05 13:54:39.806 -04:00 [INF] Application is shutting down...
2021-09-05 13:54:46.080 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 13:54:46.315 -04:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 13:54:46.361 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 13:54:46.410 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-05 13:54:46.464 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-05 13:54:46.744 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-05 13:54:46.935 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-05 13:54:47.211 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-05 13:54:47.217 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-05 13:54:47.219 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-05 13:54:47.222 -04:00 [INF] Hosting environment: Development
2021-09-05 13:54:47.224 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-05 13:55:29.984 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 159
2021-09-05 13:55:30.247 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 159 - 200 - application/json 265.7546ms
2021-09-05 13:57:12.866 -04:00 [INF] Application is shutting down...
2021-09-05 13:57:18.796 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 13:57:18.974 -04:00 [INF] Executed DbCommand (14ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 13:57:18.997 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 13:57:19.022 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-05 13:57:19.048 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-05 13:57:19.307 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-05 13:57:19.487 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-05 13:57:19.793 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-05 13:57:19.798 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-05 13:57:19.800 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-05 13:57:19.804 -04:00 [INF] Hosting environment: Development
2021-09-05 13:57:19.806 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-05 13:57:20.952 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 159
2021-09-05 13:57:21.234 -04:00 [ERR] GraphQL Error. Timestamp: 9/5/2021 5:57:21 PM, Message: Variable '$id' is invalid. No value provided for a non-null variable., Details: 
2021-09-05 13:57:21.290 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 159 - 200 - application/json 336.4048ms
2021-09-05 13:58:02.489 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 158
2021-09-05 13:58:02.586 -04:00 [INF] bike_selling_app Request: DeleteBikeCommand {"bikeId":-1,"$type":"DeleteBikeCommand"}
2021-09-05 13:58:02.673 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 13:58:02.722 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-05 13:58:02.745 -04:00 [ERR] bike_selling_app Request: Unhandled Exception for Request DeleteBikeCommand {"bikeId":-1,"$type":"DeleteBikeCommand"}
bike_selling_app.Application.Common.Exceptions.ValidationException: One or more validation failures have occurred.
   at bike_selling_app.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 31
   at bike_selling_app.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 22
2021-09-05 13:58:02.805 -04:00 [ERR] GraphQL Error. Timestamp: 9/5/2021 5:58:02 PM, Message: One or more validation failures have occurred., Details: bike_selling_app.Application.Common.Exceptions.ValidationException: One or more validation failures have occurred.
   at bike_selling_app.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 31
   at bike_selling_app.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at bike_selling_app.Application.Common.GraphQL.Mutations.RootMutation.<>c__DisplayClass0_0.<<-ctor>b__1>d.MoveNext() in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\GraphQL\Mutations\RootMutation.cs:line 39
--- End of stack trace from previous location ---
   at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 398
2021-09-05 13:58:02.822 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 158 - 200 - application/json 332.6891ms
2021-09-05 13:58:13.341 -04:00 [INF] Application is shutting down...
2021-09-05 14:14:36.186 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 14:14:36.337 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 14:14:36.357 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 14:14:36.379 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-05 14:14:36.403 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-05 14:14:36.674 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-05 14:14:36.810 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-05 14:14:37.037 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-05 14:14:37.043 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-05 14:14:37.046 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-05 14:14:37.048 -04:00 [INF] Hosting environment: Development
2021-09-05 14:14:37.050 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-05 14:16:34.861 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 331
2021-09-05 14:16:35.135 -04:00 [ERR] GraphQL Error. Timestamp: 9/5/2021 6:16:35 PM, Message: Variable '$bike' is invalid. Unrecognized input fields 'non-existantField' for type 'BikeInputType'., Details: 
2021-09-05 14:16:35.193 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 331 - 200 - application/json 334.5222ms
2021-09-05 14:17:05.336 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 1780
2021-09-05 14:17:05.515 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at bike_selling_app.WebUI.GraphQL.GraphQLMiddleware.InvokeAsync(HttpContext httpContext, ISchema schema) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI\GraphQL\GraphQLMiddleware.cs:line 86
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-09-05 14:17:05.615 -04:00 [ERR] The context type 'bike_selling_app.Infrastructure.Persistence.ApplicationDbContextSqlite' was not found in services. This usually means the context was not registered in services during startup. You probably want to call AddScoped<>() inside the UseServices(...) call in your application startup code. Skipping display of the database error page.
2021-09-05 14:17:05.625 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 1780 - 500 - text/plain 288.1734ms
2021-09-05 14:17:05.658 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 1319
2021-09-05 14:17:05.679 -04:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at bike_selling_app.WebUI.GraphQL.GraphQLMiddleware.InvokeAsync(HttpContext httpContext, ISchema schema) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI\GraphQL\GraphQLMiddleware.cs:line 86
   at NSwag.AspNetCore.Middlewares.SwaggerUiIndexMiddleware.Invoke(HttpContext context)
   at NSwag.AspNetCore.Middlewares.RedirectToIndexMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapWhenMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.EntityFrameworkCore.MigrationsEndPointMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2021-09-05 14:17:05.713 -04:00 [ERR] The context type 'bike_selling_app.Infrastructure.Persistence.ApplicationDbContextSqlite' was not found in services. This usually means the context was not registered in services during startup. You probably want to call AddScoped<>() inside the UseServices(...) call in your application startup code. Skipping display of the database error page.
2021-09-05 14:17:05.725 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 1319 - 500 - text/plain 61.1651ms
2021-09-05 14:22:17.096 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 289
2021-09-05 14:22:17.161 -04:00 [INF] bike_selling_app Request: DeleteBikeCommand {"bikeId":-1,"$type":"DeleteBikeCommand"}
2021-09-05 14:22:17.221 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 14:22:17.266 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-05 14:22:17.287 -04:00 [ERR] bike_selling_app Request: Unhandled Exception for Request DeleteBikeCommand {"bikeId":-1,"$type":"DeleteBikeCommand"}
bike_selling_app.Application.Common.Exceptions.ValidationException: One or more validation failures have occurred.
   at bike_selling_app.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 31
   at bike_selling_app.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 22
2021-09-05 14:22:17.312 -04:00 [ERR] GraphQL Error. Timestamp: 9/5/2021 6:22:17 PM, Message: One or more validation failures have occurred., Details: bike_selling_app.Application.Common.Exceptions.ValidationException: One or more validation failures have occurred.
   at bike_selling_app.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 31
   at bike_selling_app.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at bike_selling_app.Application.Common.GraphQL.Mutations.RootMutation.<>c__DisplayClass0_0.<<-ctor>b__1>d.MoveNext() in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\GraphQL\Mutations\RootMutation.cs:line 39
--- End of stack trace from previous location ---
   at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 398
2021-09-05 14:22:17.335 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 289 - 200 - application/json 238.6464ms
2021-09-05 14:22:28.738 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 290
2021-09-05 14:22:28.746 -04:00 [ERR] GraphQL Error. Timestamp: 9/5/2021 6:22:28 PM, Message: Variable '$id' is invalid. No value provided for a non-null variable., Details: 
2021-09-05 14:22:28.750 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 290 - 200 - application/json 11.8214ms
2021-09-05 14:23:04.993 -04:00 [INF] Application is shutting down...
2021-09-05 16:29:22.602 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 16:29:22.875 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 16:29:22.909 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 16:29:22.942 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-05 16:29:22.987 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-05 16:29:23.347 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-05 16:29:23.505 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-05 16:29:23.834 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-05 16:29:23.837 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-05 16:29:23.841 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-05 16:29:23.842 -04:00 [INF] Hosting environment: Development
2021-09-05 16:29:23.847 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-05 16:29:24.112 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ui/altair - -
2021-09-05 16:29:24.177 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ui/altair - - - 200 - text/html 67.9363ms
2021-09-05 16:29:32.804 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 1780
2021-09-05 16:29:33.270 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 1780 - 200 - application/json 466.2396ms
2021-09-05 16:38:06.796 -04:00 [INF] Application is shutting down...
2021-09-05 17:40:31.058 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 17:40:31.473 -04:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 17:40:31.527 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 17:40:31.569 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-05 17:40:31.623 -04:00 [INF] Applying migration '20210905205103_updating_indices'.
2021-09-05 17:40:31.755 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP INDEX "IX_Bikes_SerialNumber";
2021-09-05 17:40:31.761 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Bikes_SerialNumber_Make_Model" ON "Bikes" ("SerialNumber", "Make", "Model");
2021-09-05 17:40:31.768 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20210905205103_updating_indices', '5.0.5');
2021-09-05 17:40:32.749 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-05 17:40:32.967 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-05 17:40:33.206 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-05 17:40:33.208 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-05 17:40:33.214 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-05 17:40:33.217 -04:00 [INF] Hosting environment: Development
2021-09-05 17:40:33.219 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-05 17:40:44.135 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 142
2021-09-05 17:40:44.327 -04:00 [ERR] GraphQL Error. Timestamp: 9/5/2021 9:40:44 PM, Message: The GraphQL type for field 'ProjectType.DateEnded' could not be derived implicitly from expression 'p => p.DateEnded'., Details: System.ArgumentException: The GraphQL type for field 'ProjectType.DateEnded' could not be derived implicitly from expression 'p => p.DateEnded'.
 ---> System.ArgumentOutOfRangeException: Explicitly nullable type: Nullable<DateTime> cannot be coerced to a non nullable GraphQL type. (Parameter 'isNullable')
   at GraphQL.TypeExtensions.GetGraphTypeFromType(Type type, Boolean isNullable, TypeMappingMode mode) in /_/src/GraphQL/TypeExtensions.cs:line 115
   at GraphQL.Types.ComplexGraphType`1.Field[TProperty](String name, Expression`1 expression, Boolean nullable, Type type) in /_/src/GraphQL/Types/Composite/ComplexGraphType.cs:line 417
   --- End of inner exception stack trace ---
   at GraphQL.Types.ComplexGraphType`1.Field[TProperty](String name, Expression`1 expression, Boolean nullable, Type type) in /_/src/GraphQL/Types/Composite/ComplexGraphType.cs:line 421
   at GraphQL.Types.ComplexGraphType`1.Field[TProperty](Expression`1 expression, Boolean nullable, Type type) in /_/src/GraphQL/Types/Composite/ComplexGraphType.cs:line 467
   at bike_selling_app.Application.Common.GraphQL.Types.ProjectType..ctor(IServiceScopeFactory scopeFactory) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\GraphQL\Types\ProjectType.cs:line 16
--- End of stack trace from previous location ---
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ConstructorMatcher.CreateInstance(IServiceProvider provider)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.CreateInstance(IServiceProvider provider, Type instanceType, Object[] parameters)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetServiceOrCreateInstance(IServiceProvider provider, Type type)
   at GraphQL.MicrosoftDI.SelfActivatingServiceProvider.GetService(Type serviceType) in /_/src/GraphQL.MicrosoftDI/SelfActivatingServiceProvider.cs:line 40
   at GraphQL.Utilities.ServiceProviderExtensions.GetRequiredService(IServiceProvider provider, Type serviceType) in /_/src/GraphQL/Utilities/ServiceProviderExtensions.cs:line 29
   at GraphQL.Types.SchemaTypes.<>c__DisplayClass7_0.<.ctor>b__2(Type t) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 141
   at GraphQL.Types.SchemaTypes.AddTypeIfNotRegistered(Type type, TypeCollectionContext context) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 539
   at GraphQL.Types.SchemaTypes.HandleField(IComplexGraphType parentType, FieldType field, TypeCollectionContext context, Boolean applyNameConverter) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 429
   at GraphQL.Types.SchemaTypes.AddType(IGraphType type, TypeCollectionContext context) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 333
   at GraphQL.Types.SchemaTypes.AddTypeWithLoopCheck(IGraphType resolvedType, TypeCollectionContext context, Type namedType) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 511
   at GraphQL.Types.SchemaTypes.AddTypeIfNotRegistered(Type type, TypeCollectionContext context) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 539
   at GraphQL.Types.SchemaTypes.HandleField(IComplexGraphType parentType, FieldType field, TypeCollectionContext context, Boolean applyNameConverter) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 429
   at GraphQL.Types.SchemaTypes.AddType(IGraphType type, TypeCollectionContext context) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 333
   at GraphQL.Types.SchemaTypes..ctor(ISchema schema, IServiceProvider serviceProvider) in /_/src/GraphQL/Types/Collections/SchemaTypes.cs:line 154
   at GraphQL.Types.Schema.CreateSchemaTypes() in /_/src/GraphQL/Types/Schema.cs:line 328
   at GraphQL.Types.Schema.Initialize() in /_/src/GraphQL/Types/Schema.cs:line 102
   at GraphQL.DocumentExecuter.ExecuteAsync(ExecutionOptions options) in /_/src/GraphQL/Execution/DocumentExecuter.cs:line 80
2021-09-05 17:40:44.399 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 142 - 200 - application/json 265.8561ms
2021-09-05 17:41:12.422 -04:00 [INF] Application is shutting down...
2021-09-05 17:50:06.010 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 17:50:06.199 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 17:50:06.220 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-05 17:50:06.245 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-05 17:50:06.272 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-05 17:50:06.531 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-05 17:50:06.683 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-05 17:50:06.937 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-05 17:50:06.942 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-05 17:50:06.944 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-05 17:50:06.946 -04:00 [INF] Hosting environment: Development
2021-09-05 17:50:06.947 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-05 17:50:12.082 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 157
2021-09-05 17:50:12.321 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 17:50:12.353 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-05 17:50:12.461 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 157 - 200 - application/json 383.0511ms
2021-09-05 17:50:29.671 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 189
2021-09-05 17:50:29.729 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-05 17:50:29.741 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-05 17:50:29.753 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 189 - 200 - application/json 81.5603ms
2021-09-05 17:50:39.670 -04:00 [INF] Application is shutting down...
2021-09-11 09:00:55.229 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:00:55.687 -04:00 [INF] Executed DbCommand (23ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-11 09:00:55.709 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-11 09:00:55.732 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-11 09:00:55.776 -04:00 [INF] Applying migration '20210910194456_updatingProjectEntity'.
2021-09-11 09:00:55.895 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Projects" ADD "Description" TEXT NULL;
2021-09-11 09:00:55.903 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ef_temp_Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "DateEnded" TEXT NULL,
    "DateStarted" TEXT NULL,
    "Description" TEXT NULL,
    "NetValue" REAL NOT NULL
);
2021-09-11 09:00:55.909 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "ef_temp_Projects" ("Id", "DateEnded", "DateStarted", "Description", "NetValue")
SELECT "Id", "DateEnded", "DateStarted", "Description", "NetValue"
FROM Projects;
2021-09-11 09:00:55.935 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 0;
2021-09-11 09:00:55.941 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DROP TABLE "Projects";
2021-09-11 09:00:55.947 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "ef_temp_Projects" RENAME TO "Projects";
2021-09-11 09:00:55.956 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA foreign_keys = 1;
2021-09-11 09:00:55.959 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20210910194456_updatingProjectEntity', '5.0.5');
2021-09-11 09:00:55.973 -04:00 [INF] Applying migration '20210911124836_updating-project-entity'.
2021-09-11 09:00:56.010 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "Projects" ADD "Title" TEXT NULL;
2021-09-11 09:00:56.017 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20210911124836_updating-project-entity', '5.0.5');
2021-09-11 09:00:56.041 -04:00 [INF] Applying migration '20210911125519_updating-project-entity-again'.
2021-09-11 09:00:56.071 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Projects_Title" ON "Projects" ("Title");
2021-09-11 09:00:56.074 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20210911125519_updating-project-entity-again', '5.0.5');
2021-09-11 09:00:57.075 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-11 09:00:57.336 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-09-11 09:00:57.359 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-11 09:00:57.504 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-11 09:00:58.132 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-11 09:00:58.138 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-11 09:00:58.143 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-11 09:00:58.146 -04:00 [INF] Hosting environment: Development
2021-09-11 09:00:58.148 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-11 09:00:58.366 -04:00 [INF] Request starting HTTP/2 GET https://localhost:5001/ui/altair - -
2021-09-11 09:00:58.478 -04:00 [INF] Request finished HTTP/2 GET https://localhost:5001/ui/altair - - - 200 - text/html 114.5032ms
2021-09-11 09:01:38.168 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 172
2021-09-11 09:01:38.458 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:01:38.497 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
2021-09-11 09:01:38.597 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 172 - 200 - application/json 428.8711ms
2021-09-11 09:02:03.736 -04:00 [INF] Application is shutting down...
2021-09-11 09:02:10.334 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:02:10.502 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-11 09:02:10.523 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-11 09:02:10.544 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-11 09:02:10.575 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-11 09:02:10.824 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-11 09:02:10.983 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-09-11 09:02:10.997 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-11 09:02:11.277 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 22), @p3='?', @p4='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("DateEnded", "DateStarted", "Description", "NetValue", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-09-11 09:02:11.321 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2021-09-11 09:02:11.429 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-11 09:02:11.662 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-11 09:02:11.664 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-11 09:02:11.666 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-11 09:02:11.668 -04:00 [INF] Hosting environment: Development
2021-09-11 09:02:11.673 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-11 09:02:14.854 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 172
2021-09-11 09:02:15.142 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:02:15.167 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
2021-09-11 09:02:15.276 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 172 - 200 - application/json 423.8411ms
2021-09-11 09:02:19.808 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 183
2021-09-11 09:02:19.822 -04:00 [ERR] GraphQL Error. Timestamp: 9/11/2021 1:02:19 PM, Message: Field bikes of type [BikeType] must have a sub selection, Details: 
2021-09-11 09:02:19.859 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 183 - 200 - application/json 51.1752ms
2021-09-11 09:02:29.411 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 247
2021-09-11 09:02:29.485 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:02:29.499 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
2021-09-11 09:02:29.515 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:02:29.529 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:02:29.537 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 247 - 200 - application/json 126.0964ms
2021-09-11 09:02:59.830 -04:00 [INF] Application is shutting down...
2021-09-11 09:50:27.681 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:50:27.878 -04:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-11 09:50:27.899 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-11 09:50:27.924 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-11 09:50:27.967 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-11 09:50:28.268 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-11 09:50:28.366 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-09-11 09:50:28.485 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-11 09:50:28.707 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-11 09:50:28.709 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-11 09:50:28.711 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-11 09:50:28.712 -04:00 [INF] Hosting environment: Development
2021-09-11 09:50:28.715 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-11 09:51:41.630 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 273
2021-09-11 09:51:41.937 -04:00 [INF] bike_selling_app Request: CreateProjectCommand {"project":{"BikeIds":[1,2],"Description":"testing","Title":"a new project!","Id":0,"CapitalItemIds":[],"NonCapitalItemIds":[],"RevenueItemIds":[],"DateStarted":null,"DateEnded":null,"$type":"ProjectRequestDto"},"$type":"CreateProjectCommand"}
2021-09-11 09:51:42.015 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:51:42.049 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:51:42.070 -04:00 [ERR] bike_selling_app Request: Unhandled Exception for Request CreateProjectCommand {"project":{"BikeIds":[1,2],"Description":"testing","Title":"a new project!","Id":0,"CapitalItemIds":[],"NonCapitalItemIds":[],"RevenueItemIds":[],"DateStarted":null,"DateEnded":null,"$type":"ProjectRequestDto"},"$type":"CreateProjectCommand"}
bike_selling_app.Application.Common.Exceptions.ValidationException: One or more validation failures have occurred.
   at bike_selling_app.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 31
   at bike_selling_app.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 22
2021-09-11 09:51:42.152 -04:00 [ERR] GraphQL Error. Timestamp: 9/11/2021 1:51:42 PM, Message: One or more validation failures have occurred., Details: bike_selling_app.Application.Common.Exceptions.ValidationException: One or more validation failures have occurred.
   at bike_selling_app.Application.Common.Behaviours.ValidationBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\ValidationBehaviour.cs:line 31
   at bike_selling_app.Application.Common.Behaviours.UnhandledExceptionBehaviour`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\Behaviours\UnhandledExceptionBehaviour.cs:line 22
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, CancellationToken cancellationToken, RequestHandlerDelegate`1 next)
   at bike_selling_app.Application.Common.GraphQL.Mutations.RootMutation.<>c__DisplayClass0_0.<<-ctor>b__3>d.MoveNext() in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Application\Common\GraphQL\Mutations\RootMutation.cs:line 74
--- End of stack trace from previous location ---
   at GraphQL.Execution.ExecutionStrategy.ExecuteNodeAsync(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 398
2021-09-11 09:51:42.222 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 273 - 200 - application/json 593.2477ms
2021-09-11 09:52:31.108 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 273
2021-09-11 09:52:31.119 -04:00 [INF] bike_selling_app Request: CreateProjectCommand {"project":{"BikeIds":[3,4],"Description":"testing","Title":"a new project!","Id":0,"CapitalItemIds":[],"NonCapitalItemIds":[],"RevenueItemIds":[],"DateStarted":null,"DateEnded":null,"$type":"ProjectRequestDto"},"$type":"CreateProjectCommand"}
2021-09-11 09:52:31.199 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:52:31.211 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:52:31.388 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:52:31.397 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:52:31.571 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 7), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("DateEnded", "DateStarted", "Description", "NetValue", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-09-11 09:52:31.603 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2021-09-11 09:52:31.611 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p0
WHERE "Id" = @p1;
SELECT changes();
2021-09-11 09:52:31.654 -04:00 [ERR] GraphQL Error. Timestamp: 9/11/2021 1:52:31 PM, Message: Cannot return null for a non-null type. Field: title, Type: String!., Details: System.InvalidOperationException: Cannot return null for a non-null type. Field: title, Type: String!.
   at GraphQL.Execution.ExecutionStrategy.ValidateNodeResult(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 559
   at GraphQL.Execution.ExecutionStrategy.CompleteNode(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 474
2021-09-11 09:52:31.660 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:52:31.667 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:52:31.730 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 273 - 200 - application/json 621.9998ms
2021-09-11 09:52:39.976 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 273
2021-09-11 09:52:40.011 -04:00 [INF] bike_selling_app Request: CreateProjectCommand {"project":{"BikeIds":[3,4],"Description":"testing","Title":"a new project!","Id":0,"CapitalItemIds":[],"NonCapitalItemIds":[],"RevenueItemIds":[],"DateStarted":null,"DateEnded":null,"$type":"ProjectRequestDto"},"$type":"CreateProjectCommand"}
2021-09-11 09:52:40.056 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:52:40.062 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:52:40.072 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:52:40.078 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:52:40.108 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 7), @p3='?', @p4='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("DateEnded", "DateStarted", "Description", "NetValue", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-09-11 09:52:40.119 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2021-09-11 09:52:40.124 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p0
WHERE "Id" = @p1;
SELECT changes();
2021-09-11 09:52:40.146 -04:00 [ERR] GraphQL Error. Timestamp: 9/11/2021 1:52:40 PM, Message: Cannot return null for a non-null type. Field: title, Type: String!., Details: System.InvalidOperationException: Cannot return null for a non-null type. Field: title, Type: String!.
   at GraphQL.Execution.ExecutionStrategy.ValidateNodeResult(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 559
   at GraphQL.Execution.ExecutionStrategy.CompleteNode(ExecutionContext context, ExecutionNode node) in /_/src/GraphQL/Execution/ExecutionStrategy.cs:line 474
2021-09-11 09:52:40.159 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:52:40.170 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:52:40.179 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 273 - 200 - application/json 203.6626ms
2021-09-11 09:53:00.010 -04:00 [INF] Application is shutting down...
2021-09-11 09:53:43.311 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:53:43.476 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-11 09:53:43.496 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-09-11 09:53:43.518 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-09-11 09:53:43.545 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-09-11 09:53:43.830 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-09-11 09:53:43.939 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-09-11 09:53:44.052 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-09-11 09:53:44.296 -04:00 [INF] Now listening on: https://localhost:5001
2021-09-11 09:53:44.299 -04:00 [INF] Now listening on: http://localhost:5000
2021-09-11 09:53:44.302 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-09-11 09:53:44.303 -04:00 [INF] Hosting environment: Development
2021-09-11 09:53:44.305 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-09-11 09:53:49.354 -04:00 [INF] Request starting HTTP/2 POST https://localhost:5001/graphql application/json 273
2021-09-11 09:53:49.725 -04:00 [INF] bike_selling_app Request: CreateProjectCommand {"project":{"BikeIds":[3,4],"Description":"testing","Title":"a new project!","Id":0,"CapitalItemIds":[],"NonCapitalItemIds":[],"RevenueItemIds":[],"DateStarted":null,"DateEnded":null,"$type":"ProjectRequestDto"},"$type":"CreateProjectCommand"}
2021-09-11 09:53:49.794 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:53:49.826 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:53:50.066 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:53:50.076 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:53:50.226 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 7), @p3='?', @p4='?' (Size = 14)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("DateEnded", "DateStarted", "Description", "NetValue", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-09-11 09:53:50.258 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2021-09-11 09:53:50.266 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p1='?', @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p0
WHERE "Id" = @p1;
SELECT changes();
2021-09-11 09:53:50.304 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-09-11 09:53:50.310 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
2021-09-11 09:53:50.399 -04:00 [INF] Request finished HTTP/2 POST https://localhost:5001/graphql application/json 273 - 200 - application/json 1049.6020ms
2021-09-11 09:53:54.575 -04:00 [INF] Application is shutting down...
2021-10-09 16:37:59.056 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-09 16:37:59.411 -04:00 [INF] Executed DbCommand (22ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:37:59.434 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:37:59.459 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-09 16:37:59.490 -04:00 [INF] Applying migration '20211009004113_adding_expense_item'.
2021-10-09 16:37:59.585 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE "NonCapitalItems" RENAME COLUMN "Cost" TO "UnitCost";
2021-10-09 16:37:59.592 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ExpenseItem" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ExpenseItem" PRIMARY KEY AUTOINCREMENT,
    "UnitCost" REAL NOT NULL,
    "Units" INTEGER NOT NULL,
    "CapitalItemId" INTEGER NULL,
    "NonCapitalItemId" INTEGER NULL,
    "RevenueItemId" INTEGER NULL,
    "Name" TEXT NOT NULL,
    "Description" TEXT NULL,
    "DatePurchased" TEXT NOT NULL,
    CONSTRAINT "FK_ExpenseItem_CapitalItems_CapitalItemId" FOREIGN KEY ("CapitalItemId") REFERENCES "CapitalItems" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_ExpenseItem_NonCapitalItems_NonCapitalItemId" FOREIGN KEY ("NonCapitalItemId") REFERENCES "NonCapitalItems" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_ExpenseItem_RevenueItems_RevenueItemId" FOREIGN KEY ("RevenueItemId") REFERENCES "RevenueItems" ("Id") ON DELETE RESTRICT
);
2021-10-09 16:37:59.598 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ExpenseItem_CapitalItemId" ON "ExpenseItem" ("CapitalItemId");
2021-10-09 16:37:59.602 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ExpenseItem_NonCapitalItemId" ON "ExpenseItem" ("NonCapitalItemId");
2021-10-09 16:37:59.607 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ExpenseItem_RevenueItemId" ON "ExpenseItem" ("RevenueItemId");
2021-10-09 16:37:59.624 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20211009004113_adding_expense_item', '5.0.5');
2021-10-09 16:37:59.901 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:37:59.989 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-09 16:38:00.100 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-09 16:38:00.246 -04:00 [INF] Creating key {d390294c-91df-46b7-ba3f-ce363886857b} with creation date 2021-10-09 20:38:00Z, activation date 2021-10-09 20:38:00Z, and expiration date 2022-01-07 20:38:00Z.
2021-10-09 16:38:00.272 -04:00 [INF] Writing data to file 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys\key-d390294c-91df-46b7-ba3f-ce363886857b.xml'.
2021-10-09 16:38:00.624 -04:00 [INF] Now listening on: https://localhost:5001
2021-10-09 16:38:00.627 -04:00 [INF] Now listening on: http://localhost:5000
2021-10-09 16:38:00.629 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-09 16:38:00.631 -04:00 [INF] Hosting environment: Development
2021-10-09 16:38:00.632 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-10-09 16:38:08.227 -04:00 [INF] Application is shutting down...
2021-10-09 16:52:23.302 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-09 16:52:23.470 -04:00 [INF] Executed DbCommand (17ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2021-10-09 16:52:23.647 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2021-10-09 16:52:23.672 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:52:23.690 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-09 16:52:23.735 -04:00 [INF] Applying migration '20211009205144_initial_migration'.
2021-10-09 16:52:23.849 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Title" TEXT NULL,
    "DateStarted" TEXT NULL,
    "DateEnded" TEXT NULL,
    "NetValue" REAL NOT NULL
);
2021-10-09 16:52:23.856 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Bikes" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Bikes" PRIMARY KEY AUTOINCREMENT,
    "SerialNumber" TEXT NOT NULL,
    "Make" TEXT NOT NULL,
    "Model" TEXT NOT NULL,
    "PurchasePrice" REAL NOT NULL,
    "PurchasedFrom" TEXT NOT NULL,
    "ProjectId" INTEGER NULL,
    "DatePurchased" TEXT NOT NULL,
    CONSTRAINT "FK_Bikes_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-09 16:52:23.864 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Item" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Item" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "DatePurchased" TEXT NOT NULL,
    "Discriminator" TEXT NOT NULL,
    "Cost" REAL NULL,
    "UsageCount" INTEGER NULL,
    "UnitCost" REAL NULL,
    "Units" INTEGER NULL,
    "ParentItemId" INTEGER NULL,
    "CapitalItemId" INTEGER NULL,
    "NonCapitalItemId" INTEGER NULL,
    "RevenueItemId" INTEGER NULL,
    "UnusedItemId" INTEGER NULL,
    "ProjectId" INTEGER NULL,
    "NonCapitalItem_UnitCost" REAL NULL,
    "NonCapitalItem_Units" INTEGER NULL,
    "SalePrice" REAL NULL,
    "PlatformSoldOn" TEXT NULL,
    "ItemType" TEXT NULL,
    "IsPending" INTEGER NULL,
    "Weight" REAL NULL,
    "DateSold" TEXT NULL,
    "RevenueItem_ProjectId" INTEGER NULL,
    "UnusedItem_UnitCost" REAL NULL,
    "UnusedItem_Units" INTEGER NULL,
    "Reason" TEXT NULL,
    CONSTRAINT "FK_Item_Item_CapitalItemId" FOREIGN KEY ("CapitalItemId") REFERENCES "Item" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Item_NonCapitalItemId" FOREIGN KEY ("NonCapitalItemId") REFERENCES "Item" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Item_ParentItemId" FOREIGN KEY ("ParentItemId") REFERENCES "Item" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Item_Item_RevenueItemId" FOREIGN KEY ("RevenueItemId") REFERENCES "Item" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Item_UnusedItemId" FOREIGN KEY ("UnusedItemId") REFERENCES "Item" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Projects_RevenueItem_ProjectId" FOREIGN KEY ("RevenueItem_ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-09 16:52:23.887 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CapitalItemProject" (
    "CapitalItemsId" INTEGER NOT NULL,
    "ProjectsId" INTEGER NOT NULL,
    CONSTRAINT "PK_CapitalItemProject" PRIMARY KEY ("CapitalItemsId", "ProjectsId"),
    CONSTRAINT "FK_CapitalItemProject_Item_CapitalItemsId" FOREIGN KEY ("CapitalItemsId") REFERENCES "Item" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CapitalItemProject_Projects_ProjectsId" FOREIGN KEY ("ProjectsId") REFERENCES "Projects" ("Id") ON DELETE CASCADE
);
2021-10-09 16:52:23.914 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Bikes_ProjectId" ON "Bikes" ("ProjectId");
2021-10-09 16:52:23.925 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Bikes_SerialNumber_Make_Model" ON "Bikes" ("SerialNumber", "Make", "Model");
2021-10-09 16:52:23.933 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CapitalItemProject_ProjectsId" ON "CapitalItemProject" ("ProjectsId");
2021-10-09 16:52:23.946 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_CapitalItemId" ON "Item" ("CapitalItemId");
2021-10-09 16:52:23.955 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Item_Name_DatePurchased" ON "Item" ("Name", "DatePurchased");
2021-10-09 16:52:23.966 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_NonCapitalItemId" ON "Item" ("NonCapitalItemId");
2021-10-09 16:52:23.987 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_ParentItemId" ON "Item" ("ParentItemId");
2021-10-09 16:52:24.012 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_ProjectId" ON "Item" ("ProjectId");
2021-10-09 16:52:24.030 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_RevenueItem_ProjectId" ON "Item" ("RevenueItem_ProjectId");
2021-10-09 16:52:24.047 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_RevenueItemId" ON "Item" ("RevenueItemId");
2021-10-09 16:52:24.057 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_UnusedItemId" ON "Item" ("UnusedItemId");
2021-10-09 16:52:24.114 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Projects_Title" ON "Projects" ("Title");
2021-10-09 16:52:24.120 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20211009205144_initial_migration', '5.0.5');
2021-10-09 16:52:24.511 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:52:24.683 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-09 16:52:24.699 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:52:24.813 -04:00 [ERR] An error occurred while migrating or seeding the database.
System.ArgumentNullException: Value cannot be null. (Parameter 'key')
   at System.Collections.Generic.Dictionary`2.FindValue(TKey key)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityReferenceMap.TryGet(Object entity, IEntityType entityType, InternalEntityEntry& entry, Boolean throwOnNonUniqueness)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.TryGetEntry(Object entity, IEntityType entityType, Boolean throwOnTypeMismatch)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.InitialFixup(InternalEntityEntry entry, Boolean fromQuery)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.StateChanged(InternalEntityEntry entry, EntityState oldState, Boolean fromQuery)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.StateChanged(InternalEntityEntry entry, EntityState oldState, Boolean fromQuery)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.FireStateChanged(EntityState oldState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at bike_selling_app.Infrastructure.Persistence.ApplicationDbContextSeed.SeedSampleDataAsync(ApplicationDbContext context) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Infrastructure\Persistence\ApplicationDbContextSeed.cs:line 37
   at bike_selling_app.WebUI.Program.Main(String[] args) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI\Program.cs:line 43
2021-10-09 16:57:43.795 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-09 16:57:43.964 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:57:43.980 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:57:44.005 -04:00 [INF] Executed DbCommand (7ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-09 16:57:44.033 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-10-09 16:57:44.281 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:57:44.433 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-09 16:57:44.450 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:57:44.531 -04:00 [ERR] An error occurred while migrating or seeding the database.
System.ArgumentNullException: Value cannot be null. (Parameter 'key')
   at System.Collections.Generic.Dictionary`2.FindValue(TKey key)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityReferenceMap.TryGet(Object entity, IEntityType entityType, InternalEntityEntry& entry, Boolean throwOnNonUniqueness)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.TryGetEntry(Object entity, IEntityType entityType, Boolean throwOnTypeMismatch)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.InitialFixup(InternalEntityEntry entry, Boolean fromQuery)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.NavigationFixer.StateChanged(InternalEntityEntry entry, EntityState oldState, Boolean fromQuery)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntryNotifier.StateChanged(InternalEntityEntry entry, EntityState oldState, Boolean fromQuery)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.FireStateChanged(EntityState oldState)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState oldState, EntityState newState, Boolean acceptChanges, Boolean modifyProperties)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.InternalEntityEntry.SetEntityState(EntityState entityState, Boolean acceptChanges, Boolean modifyProperties, Nullable`1 forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.PaintAction(EntityEntryGraphNode`1 node)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityEntryGraphIterator.TraverseGraph[TState](EntityEntryGraphNode`1 node, Func`2 handleNode)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.EntityGraphAttacher.AttachGraph(InternalEntityEntry rootEntry, EntityState targetState, EntityState storeGeneratedWithKeySetTargetState, Boolean forceStateWhenUnknownKey)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.SetEntityState(InternalEntityEntry entry, EntityState entityState)
   at Microsoft.EntityFrameworkCore.Internal.InternalDbSet`1.Add(TEntity entity)
   at bike_selling_app.Infrastructure.Persistence.ApplicationDbContextSeed.SeedSampleDataAsync(ApplicationDbContext context) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Infrastructure\Persistence\ApplicationDbContextSeed.cs:line 37
   at bike_selling_app.WebUI.Program.Main(String[] args) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI\Program.cs:line 43
2021-10-09 16:59:02.408 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-09 16:59:02.564 -04:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:59:02.585 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:59:02.601 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-09 16:59:02.631 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-10-09 16:59:02.919 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:59:03.035 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-09 16:59:03.047 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:59:03.062 -04:00 [ERR] An error occurred while migrating or seeding the database.
System.NullReferenceException: Object reference not set to an instance of an object.
   at bike_selling_app.Infrastructure.Persistence.ApplicationDbContextSeed.SeedSampleDataAsync(ApplicationDbContext context) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Infrastructure\Persistence\ApplicationDbContextSeed.cs:line 31
   at bike_selling_app.WebUI.Program.Main(String[] args) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI\Program.cs:line 43
2021-10-09 16:59:50.028 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-09 16:59:50.294 -04:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:59:50.311 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 16:59:50.333 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-09 16:59:50.361 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-10-09 16:59:50.608 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:59:50.828 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?' (Size = 7), @p2='?' (Size = 5), @p3='?', @p4='?', @p5='?' (Size = 20), @p6='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Bikes" ("DatePurchased", "Make", "Model", "ProjectId", "PurchasePrice", "PurchasedFrom", "SerialNumber")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "Bikes"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-09 16:59:50.910 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-09 16:59:50.922 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 16:59:51.009 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 22), @p3='?', @p4='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("DateEnded", "DateStarted", "Description", "NetValue", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-09 16:59:51.036 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2021-10-09 16:59:51.099 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-09 16:59:51.370 -04:00 [INF] Now listening on: https://localhost:5001
2021-10-09 16:59:51.373 -04:00 [INF] Now listening on: http://localhost:5000
2021-10-09 16:59:51.375 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-09 16:59:51.377 -04:00 [INF] Hosting environment: Development
2021-10-09 16:59:51.380 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-10-09 16:59:53.842 -04:00 [INF] Application is shutting down...
2021-10-09 17:00:04.306 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-09 17:00:04.483 -04:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2021-10-09 17:00:04.616 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2021-10-09 17:00:04.643 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-09 17:00:04.655 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-09 17:00:04.685 -04:00 [INF] Applying migration '20211009205144_initial_migration'.
2021-10-09 17:00:04.754 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Title" TEXT NULL,
    "DateStarted" TEXT NULL,
    "DateEnded" TEXT NULL,
    "NetValue" REAL NOT NULL
);
2021-10-09 17:00:04.765 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Bikes" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Bikes" PRIMARY KEY AUTOINCREMENT,
    "SerialNumber" TEXT NOT NULL,
    "Make" TEXT NOT NULL,
    "Model" TEXT NOT NULL,
    "PurchasePrice" REAL NOT NULL,
    "PurchasedFrom" TEXT NOT NULL,
    "ProjectId" INTEGER NULL,
    "DatePurchased" TEXT NOT NULL,
    CONSTRAINT "FK_Bikes_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-09 17:00:04.774 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Item" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Item" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "DatePurchased" TEXT NOT NULL,
    "Discriminator" TEXT NOT NULL,
    "Cost" REAL NULL,
    "UsageCount" INTEGER NULL,
    "UnitCost" REAL NULL,
    "Units" INTEGER NULL,
    "ParentItemId" INTEGER NULL,
    "CapitalItemId" INTEGER NULL,
    "NonCapitalItemId" INTEGER NULL,
    "RevenueItemId" INTEGER NULL,
    "UnusedItemId" INTEGER NULL,
    "ProjectId" INTEGER NULL,
    "NonCapitalItem_UnitCost" REAL NULL,
    "NonCapitalItem_Units" INTEGER NULL,
    "SalePrice" REAL NULL,
    "PlatformSoldOn" TEXT NULL,
    "ItemType" TEXT NULL,
    "IsPending" INTEGER NULL,
    "Weight" REAL NULL,
    "DateSold" TEXT NULL,
    "RevenueItem_ProjectId" INTEGER NULL,
    "UnusedItem_UnitCost" REAL NULL,
    "UnusedItem_Units" INTEGER NULL,
    "Reason" TEXT NULL,
    CONSTRAINT "FK_Item_Item_CapitalItemId" FOREIGN KEY ("CapitalItemId") REFERENCES "Item" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Item_NonCapitalItemId" FOREIGN KEY ("NonCapitalItemId") REFERENCES "Item" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Item_ParentItemId" FOREIGN KEY ("ParentItemId") REFERENCES "Item" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_Item_Item_RevenueItemId" FOREIGN KEY ("RevenueItemId") REFERENCES "Item" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Item_UnusedItemId" FOREIGN KEY ("UnusedItemId") REFERENCES "Item" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Item_Projects_RevenueItem_ProjectId" FOREIGN KEY ("RevenueItem_ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-09 17:00:04.797 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CapitalItemProject" (
    "CapitalItemsId" INTEGER NOT NULL,
    "ProjectsId" INTEGER NOT NULL,
    CONSTRAINT "PK_CapitalItemProject" PRIMARY KEY ("CapitalItemsId", "ProjectsId"),
    CONSTRAINT "FK_CapitalItemProject_Item_CapitalItemsId" FOREIGN KEY ("CapitalItemsId") REFERENCES "Item" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CapitalItemProject_Projects_ProjectsId" FOREIGN KEY ("ProjectsId") REFERENCES "Projects" ("Id") ON DELETE CASCADE
);
2021-10-09 17:00:04.804 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Bikes_ProjectId" ON "Bikes" ("ProjectId");
2021-10-09 17:00:04.813 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Bikes_SerialNumber_Make_Model" ON "Bikes" ("SerialNumber", "Make", "Model");
2021-10-09 17:00:04.818 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CapitalItemProject_ProjectsId" ON "CapitalItemProject" ("ProjectsId");
2021-10-09 17:00:04.822 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_CapitalItemId" ON "Item" ("CapitalItemId");
2021-10-09 17:00:04.825 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Item_Name_DatePurchased" ON "Item" ("Name", "DatePurchased");
2021-10-09 17:00:04.830 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_NonCapitalItemId" ON "Item" ("NonCapitalItemId");
2021-10-09 17:00:04.836 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_ParentItemId" ON "Item" ("ParentItemId");
2021-10-09 17:00:04.841 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_ProjectId" ON "Item" ("ProjectId");
2021-10-09 17:00:04.847 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_RevenueItem_ProjectId" ON "Item" ("RevenueItem_ProjectId");
2021-10-09 17:00:04.852 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_RevenueItemId" ON "Item" ("RevenueItemId");
2021-10-09 17:00:04.858 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Item_UnusedItemId" ON "Item" ("UnusedItemId");
2021-10-09 17:00:04.866 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Projects_Title" ON "Projects" ("Title");
2021-10-09 17:00:04.869 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20211009205144_initial_migration', '5.0.5');
2021-10-09 17:00:05.264 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 17:00:05.564 -04:00 [INF] Executed DbCommand (8ms) [Parameters=[@p0='?', @p1='?' (Size = 7), @p2='?' (Size = 5), @p3='?', @p4='?', @p5='?' (Size = 20), @p6='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Bikes" ("DatePurchased", "Make", "Model", "ProjectId", "PurchasePrice", "PurchasedFrom", "SerialNumber")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "Bikes"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-09 17:00:05.674 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-09 17:00:05.691 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-09 17:00:05.774 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 22), @p3='?', @p4='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("DateEnded", "DateStarted", "Description", "NetValue", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-09 17:00:05.798 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[@p6='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2021-10-09 17:00:05.865 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-09 17:00:06.105 -04:00 [INF] Now listening on: https://localhost:5001
2021-10-09 17:00:06.107 -04:00 [INF] Now listening on: http://localhost:5000
2021-10-09 17:00:06.110 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-09 17:00:06.114 -04:00 [INF] Hosting environment: Development
2021-10-09 17:00:06.116 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-10-09 17:00:08.639 -04:00 [INF] Application is shutting down...
2021-10-10 09:50:17.742 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-10 09:50:18.046 -04:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2021-10-10 09:50:18.209 -04:00 [INF] Executed DbCommand (12ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2021-10-10 09:50:18.237 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-10 09:50:18.246 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-10 09:50:18.282 -04:00 [INF] Applying migration '20211010134940_initial_migration_again'.
2021-10-10 09:50:18.354 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CapitalItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_CapitalItems" PRIMARY KEY AUTOINCREMENT,
    "Cost" REAL NOT NULL,
    "UsageCount" INTEGER NOT NULL,
    "Name" TEXT NULL,
    "Description" TEXT NULL,
    "DatePurchased" TEXT NOT NULL
);
2021-10-10 09:50:18.359 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Title" TEXT NULL,
    "DateStarted" TEXT NULL,
    "DateEnded" TEXT NULL,
    "NetValue" REAL NOT NULL
);
2021-10-10 09:50:18.365 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Bikes" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Bikes" PRIMARY KEY AUTOINCREMENT,
    "SerialNumber" TEXT NOT NULL,
    "Make" TEXT NOT NULL,
    "Model" TEXT NOT NULL,
    "PurchasePrice" REAL NOT NULL,
    "PurchasedFrom" TEXT NOT NULL,
    "ProjectId" INTEGER NULL,
    "DatePurchased" TEXT NOT NULL,
    CONSTRAINT "FK_Bikes_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-10 09:50:18.374 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CapitalItemProject" (
    "CapitalItemsId" INTEGER NOT NULL,
    "ProjectsId" INTEGER NOT NULL,
    CONSTRAINT "PK_CapitalItemProject" PRIMARY KEY ("CapitalItemsId", "ProjectsId"),
    CONSTRAINT "FK_CapitalItemProject_CapitalItems_CapitalItemsId" FOREIGN KEY ("CapitalItemsId") REFERENCES "CapitalItems" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CapitalItemProject_Projects_ProjectsId" FOREIGN KEY ("ProjectsId") REFERENCES "Projects" ("Id") ON DELETE CASCADE
);
2021-10-10 09:50:18.379 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "NonCapitalItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_NonCapitalItems" PRIMARY KEY AUTOINCREMENT,
    "ProjectId" INTEGER NULL,
    "UnitCost" REAL NOT NULL,
    "Units" INTEGER NOT NULL,
    "Name" TEXT NULL,
    "Description" TEXT NULL,
    "DatePurchased" TEXT NOT NULL,
    CONSTRAINT "FK_NonCapitalItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-10 09:50:18.391 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "RevenueItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_RevenueItems" PRIMARY KEY AUTOINCREMENT,
    "SalePrice" REAL NOT NULL,
    "PlatformSoldOn" TEXT NOT NULL,
    "ItemType" TEXT NOT NULL,
    "IsPending" INTEGER NOT NULL,
    "Weight" REAL NOT NULL,
    "DateSold" TEXT NOT NULL,
    "ProjectId" INTEGER NULL,
    "Name" TEXT NULL,
    "Description" TEXT NULL,
    "DatePurchased" TEXT NOT NULL,
    CONSTRAINT "FK_RevenueItems_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-10 09:50:18.397 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "ExpenseItems" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_ExpenseItems" PRIMARY KEY AUTOINCREMENT,
    "UnitCost" REAL NOT NULL,
    "Units" INTEGER NOT NULL,
    "ParentItemId" INTEGER NOT NULL,
    "CapitalItemId" INTEGER NULL,
    "NonCapitalItemId" INTEGER NULL,
    "RevenueItemId" INTEGER NULL,
    "Name" TEXT NOT NULL,
    "Description" TEXT NULL,
    "DatePurchased" TEXT NOT NULL,
    CONSTRAINT "FK_ExpenseItems_CapitalItems_CapitalItemId" FOREIGN KEY ("CapitalItemId") REFERENCES "CapitalItems" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_ExpenseItems_NonCapitalItems_NonCapitalItemId" FOREIGN KEY ("NonCapitalItemId") REFERENCES "NonCapitalItems" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_ExpenseItems_RevenueItems_RevenueItemId" FOREIGN KEY ("RevenueItemId") REFERENCES "RevenueItems" ("Id") ON DELETE RESTRICT
);
2021-10-10 09:50:18.405 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Bikes_ProjectId" ON "Bikes" ("ProjectId");
2021-10-10 09:50:18.411 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Bikes_SerialNumber_Make_Model" ON "Bikes" ("SerialNumber", "Make", "Model");
2021-10-10 09:50:18.414 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CapitalItemProject_ProjectsId" ON "CapitalItemProject" ("ProjectsId");
2021-10-10 09:50:18.420 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ExpenseItems_CapitalItemId" ON "ExpenseItems" ("CapitalItemId");
2021-10-10 09:50:18.426 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_ExpenseItems_Name_DatePurchased" ON "ExpenseItems" ("Name", "DatePurchased");
2021-10-10 09:50:18.430 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ExpenseItems_NonCapitalItemId" ON "ExpenseItems" ("NonCapitalItemId");
2021-10-10 09:50:18.434 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_ExpenseItems_RevenueItemId" ON "ExpenseItems" ("RevenueItemId");
2021-10-10 09:50:18.439 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_NonCapitalItems_ProjectId" ON "NonCapitalItems" ("ProjectId");
2021-10-10 09:50:18.444 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Projects_Title" ON "Projects" ("Title");
2021-10-10 09:50:18.451 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_RevenueItems_ProjectId" ON "RevenueItems" ("ProjectId");
2021-10-10 09:50:18.455 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20211010134940_initial_migration_again', '5.0.5');
2021-10-10 09:50:18.795 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-10 09:50:19.041 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?', @p1='?' (Size = 7), @p2='?' (Size = 5), @p3='?', @p4='?', @p5='?' (Size = 20), @p6='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Bikes" ("DatePurchased", "Make", "Model", "ProjectId", "PurchasePrice", "PurchasedFrom", "SerialNumber")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "Bikes"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-10 09:50:19.128 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-10 09:50:19.139 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-10 09:50:19.212 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 22), @p3='?', @p4='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("DateEnded", "DateStarted", "Description", "NetValue", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-10 09:50:19.226 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2021-10-10 09:50:19.283 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-10 09:50:19.552 -04:00 [INF] Now listening on: https://localhost:5001
2021-10-10 09:50:19.554 -04:00 [INF] Now listening on: http://localhost:5000
2021-10-10 09:50:19.558 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-10 09:50:19.559 -04:00 [INF] Hosting environment: Development
2021-10-10 09:50:19.561 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-10-10 09:50:22.390 -04:00 [INF] Application is shutting down...
2021-10-10 12:24:41.902 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-10 12:24:42.147 -04:00 [INF] Executed DbCommand (19ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-10 12:24:42.164 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-10 12:24:42.187 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-10 12:24:42.225 -04:00 [INF] Applying migration '20211010162421_trial'.
2021-10-10 12:24:42.338 -04:00 [ERR] Failed executing DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Title" TEXT NULL,
    "DateStarted" TEXT NULL,
    "DateEnded" TEXT NULL,
    "NetValue" REAL NOT NULL
);
2021-10-10 12:24:42.348 -04:00 [ERR] An error occurred while migrating or seeding the database.
Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 1: 'table "Projects" already exists'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteCommand.PrepareAndEnumerateStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteCommand.GetStatements(Stopwatch timer)+MoveNext()
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.Migrate(String targetMigration)
   at Microsoft.EntityFrameworkCore.RelationalDatabaseFacadeExtensions.Migrate(DatabaseFacade databaseFacade)
   at bike_selling_app.WebUI.Program.Main(String[] args) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI\Program.cs:line 40
2021-10-10 12:24:58.442 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-10 12:24:58.681 -04:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
PRAGMA journal_mode = 'wal';
2021-10-10 12:24:58.822 -04:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "__EFMigrationsHistory" (
    "MigrationId" TEXT NOT NULL CONSTRAINT "PK___EFMigrationsHistory" PRIMARY KEY,
    "ProductVersion" TEXT NOT NULL
);
2021-10-10 12:24:58.847 -04:00 [INF] Executed DbCommand (6ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-10 12:24:58.859 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-10 12:24:58.895 -04:00 [INF] Applying migration '20211010162421_trial'.
2021-10-10 12:24:58.960 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Projects" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Projects" PRIMARY KEY AUTOINCREMENT,
    "Description" TEXT NULL,
    "Title" TEXT NULL,
    "DateStarted" TEXT NULL,
    "DateEnded" TEXT NULL,
    "NetValue" REAL NOT NULL
);
2021-10-10 12:24:58.965 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Bikes" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Bikes" PRIMARY KEY AUTOINCREMENT,
    "SerialNumber" TEXT NOT NULL,
    "Make" TEXT NOT NULL,
    "Model" TEXT NOT NULL,
    "PurchasePrice" REAL NOT NULL,
    "PurchasedFrom" TEXT NOT NULL,
    "ProjectId" INTEGER NULL,
    "DatePurchased" TEXT NOT NULL,
    CONSTRAINT "FK_Bikes_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-10 12:24:58.973 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "Items" (
    "Id" INTEGER NOT NULL CONSTRAINT "PK_Items" PRIMARY KEY AUTOINCREMENT,
    "Name" TEXT NOT NULL,
    "Description" TEXT NOT NULL,
    "DatePurchased" TEXT NOT NULL,
    "ItemType" TEXT NOT NULL,
    "Cost" REAL NULL,
    "UsageCount" INTEGER NULL,
    "UnitCost" REAL NULL,
    "Units" INTEGER NULL,
    "ParentItemId" INTEGER NULL,
    "CapitalItemId" INTEGER NULL,
    "NonCapitalItemId" INTEGER NULL,
    "RevenueItemId" INTEGER NULL,
    "ProjectId" INTEGER NULL,
    "NonCapitalItem_UnitCost" REAL NULL,
    "NonCapitalItem_Units" INTEGER NULL,
    "SalePrice" REAL NULL,
    "PlatformSoldOn" TEXT NULL,
    "IsPending" INTEGER NULL,
    "Weight" REAL NULL,
    "DateSold" TEXT NULL,
    "RevenueItem_ProjectId" INTEGER NULL,
    CONSTRAINT "FK_Items_Items_CapitalItemId" FOREIGN KEY ("CapitalItemId") REFERENCES "Items" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Items_Items_NonCapitalItemId" FOREIGN KEY ("NonCapitalItemId") REFERENCES "Items" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Items_Items_RevenueItemId" FOREIGN KEY ("RevenueItemId") REFERENCES "Items" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Items_Projects_ProjectId" FOREIGN KEY ("ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT,
    CONSTRAINT "FK_Items_Projects_RevenueItem_ProjectId" FOREIGN KEY ("RevenueItem_ProjectId") REFERENCES "Projects" ("Id") ON DELETE RESTRICT
);
2021-10-10 12:24:58.986 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE "CapitalItemProject" (
    "CapitalItemsId" INTEGER NOT NULL,
    "ProjectsId" INTEGER NOT NULL,
    CONSTRAINT "PK_CapitalItemProject" PRIMARY KEY ("CapitalItemsId", "ProjectsId"),
    CONSTRAINT "FK_CapitalItemProject_Items_CapitalItemsId" FOREIGN KEY ("CapitalItemsId") REFERENCES "Items" ("Id") ON DELETE CASCADE,
    CONSTRAINT "FK_CapitalItemProject_Projects_ProjectsId" FOREIGN KEY ("ProjectsId") REFERENCES "Projects" ("Id") ON DELETE CASCADE
);
2021-10-10 12:24:58.990 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Bikes_ProjectId" ON "Bikes" ("ProjectId");
2021-10-10 12:24:58.993 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Bikes_SerialNumber_Make_Model" ON "Bikes" ("SerialNumber", "Make", "Model");
2021-10-10 12:24:58.999 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_CapitalItemProject_ProjectsId" ON "CapitalItemProject" ("ProjectsId");
2021-10-10 12:24:59.005 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Items_CapitalItemId" ON "Items" ("CapitalItemId");
2021-10-10 12:24:59.009 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Items_Name_DatePurchased" ON "Items" ("Name", "DatePurchased");
2021-10-10 12:24:59.012 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Items_NonCapitalItemId" ON "Items" ("NonCapitalItemId");
2021-10-10 12:24:59.022 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Items_ProjectId" ON "Items" ("ProjectId");
2021-10-10 12:24:59.026 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Items_RevenueItem_ProjectId" ON "Items" ("RevenueItem_ProjectId");
2021-10-10 12:24:59.032 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE INDEX "IX_Items_RevenueItemId" ON "Items" ("RevenueItemId");
2021-10-10 12:24:59.039 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE UNIQUE INDEX "IX_Projects_Title" ON "Projects" ("Title");
2021-10-10 12:24:59.042 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "__EFMigrationsHistory" ("MigrationId", "ProductVersion")
VALUES ('20211010162421_trial', '5.0.5');
2021-10-10 12:24:59.348 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-10 12:24:59.575 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[@p0='?', @p1='?' (Size = 7), @p2='?' (Size = 5), @p3='?', @p4='?', @p5='?' (Size = 20), @p6='?' (Size = 7)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Bikes" ("DatePurchased", "Make", "Model", "ProjectId", "PurchasePrice", "PurchasedFrom", "SerialNumber")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
SELECT "Id"
FROM "Bikes"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-10 12:24:59.751 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-10 12:24:59.772 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-10 12:24:59.939 -04:00 [INF] Executed DbCommand (1ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 22), @p3='?', @p4='?' (Size = 12)], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Projects" ("DateEnded", "DateStarted", "Description", "NetValue", "Title")
VALUES (@p0, @p1, @p2, @p3, @p4);
SELECT "Id"
FROM "Projects"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-10 12:24:59.958 -04:00 [INF] Executed DbCommand (0ms) [Parameters=[@p6='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Bikes" SET "ProjectId" = @p5
WHERE "Id" = @p6;
SELECT changes();
2021-10-10 12:25:00.044 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-10 12:25:00.319 -04:00 [INF] Now listening on: https://localhost:5001
2021-10-10 12:25:00.321 -04:00 [INF] Now listening on: http://localhost:5000
2021-10-10 12:25:00.323 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-10 12:25:00.325 -04:00 [INF] Hosting environment: Development
2021-10-10 12:25:00.327 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-10-10 12:28:38.090 -04:00 [INF] Application is shutting down...
2021-10-10 12:28:45.390 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-10 12:28:45.601 -04:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-10 12:28:45.627 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-10 12:28:45.654 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-10 12:28:45.706 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-10-10 12:28:46.066 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-10 12:28:46.187 -04:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-10 12:28:46.324 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "i"."Id", "i"."DatePurchased", "i"."Description", "i"."ItemType", "i"."Name", "i"."Cost", "i"."UsageCount"
FROM "Items" AS "i"
WHERE ("i"."ItemType" = 'capital') AND ("i"."Name" = 'TestItem')
LIMIT 2
2021-10-10 12:28:46.570 -04:00 [ERR] Failed executing DbCommand (10ms) [Parameters=[@p0='?', @p1='?', @p2='?', @p3='?' (Size = 7), @p4='?' (Size = 8), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Items" ("Cost", "DatePurchased", "Description", "ItemType", "Name", "UsageCount")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Items"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-10 12:28:46.641 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'bike_selling_app.Infrastructure.Persistence.ApplicationDbContextSqlite'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Items.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Items.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2021-10-10 12:28:46.708 -04:00 [ERR] An error occurred while migrating or seeding the database.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.
 ---> Microsoft.Data.Sqlite.SqliteException (0x80004005): SQLite Error 19: 'NOT NULL constraint failed: Items.Description'.
   at Microsoft.Data.Sqlite.SqliteException.ThrowExceptionForRC(Int32 rc, sqlite3 db)
   at Microsoft.Data.Sqlite.SqliteDataReader.NextResult()
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReader(CommandBehavior behavior)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.Data.Sqlite.SqliteCommand.ExecuteDbDataReaderAsync(CommandBehavior behavior, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(DbContext _, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at bike_selling_app.Infrastructure.Persistence.ApplicationDbContext.SaveChangesAsync(CancellationToken cancellationToken) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Infrastructure\Persistence\ApplicationDbContext.cs:line 52
   at bike_selling_app.Infrastructure.Persistence.ApplicationDbContextSeed.SeedSampleDataAsync(ApplicationDbContext context) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\Infrastructure\Persistence\ApplicationDbContextSeed.cs:line 53
   at bike_selling_app.WebUI.Program.Main(String[] args) in C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI\Program.cs:line 43
2021-10-10 12:29:12.061 -04:00 [INF] Entity Framework Core 5.0.5 initialized 'ApplicationDbContextSqlite' using provider 'Microsoft.EntityFrameworkCore.Sqlite' with options: None
2021-10-10 12:29:12.226 -04:00 [INF] Executed DbCommand (13ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-10 12:29:12.243 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT COUNT(*) FROM "sqlite_master" WHERE "name" = '__EFMigrationsHistory' AND "type" = 'table';
2021-10-10 12:29:12.265 -04:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2021-10-10 12:29:12.294 -04:00 [INF] No migrations were applied. The database is already up to date.
2021-10-10 12:29:12.547 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "b"."Id", "b"."DatePurchased", "b"."Make", "b"."Model", "b"."ProjectId", "b"."PurchasePrice", "b"."PurchasedFrom", "b"."SerialNumber"
FROM "Bikes" AS "b"
WHERE "b"."SerialNumber" = '2124893'
LIMIT 2
2021-10-10 12:29:12.649 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "p"."Id", "p"."DateEnded", "p"."DateStarted", "p"."Description", "p"."NetValue", "p"."Title"
FROM "Projects" AS "p"
WHERE "p"."Title" = 'Test Project'
LIMIT 2
2021-10-10 12:29:12.735 -04:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "i"."Id", "i"."DatePurchased", "i"."Description", "i"."ItemType", "i"."Name", "i"."Cost", "i"."UsageCount"
FROM "Items" AS "i"
WHERE ("i"."ItemType" = 'capital') AND ("i"."Name" = 'TestItem')
LIMIT 2
2021-10-10 12:29:13.001 -04:00 [INF] Executed DbCommand (4ms) [Parameters=[@p0='?', @p1='?', @p2='?' (Size = 14), @p3='?' (Size = 7), @p4='?' (Size = 8), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Items" ("Cost", "DatePurchased", "Description", "ItemType", "Name", "UsageCount")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
SELECT "Id"
FROM "Items"
WHERE changes() = 1 AND "rowid" = last_insert_rowid();
2021-10-10 12:29:13.101 -04:00 [INF] User profile is available. Using 'C:\Users\Frank\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2021-10-10 12:29:13.375 -04:00 [INF] Now listening on: https://localhost:5001
2021-10-10 12:29:13.378 -04:00 [INF] Now listening on: http://localhost:5000
2021-10-10 12:29:13.381 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2021-10-10 12:29:13.385 -04:00 [INF] Hosting environment: Development
2021-10-10 12:29:13.386 -04:00 [INF] Content root path: C:\Users\Frank\Documents\GitHub\bike-selling-app\src\WebUI
2021-10-10 12:30:46.495 -04:00 [INF] Application is shutting down...
